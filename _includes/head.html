<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>{% if page.title %}{{ page.title }} &sdot; {% endif %}{{ site.title }}</title>
  <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
  <meta itemprop="name" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
  <meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="icon" sizes="256x256" href="{{ site.url }}{{ site.baseurl }}/favicon.png" />
  <meta itemprop="logo" content="{{ site.url }}{{ site.baseurl }}/favicon.png" />
  <link rel="shortcut icon" href="{{ site.url }}{{ site.baseurl }}/favicon.ico">

  {% if page.hidden %}
    <meta name="robots" content="noindex,nofollow" />
  {% endif %}

  <meta name="author" content="{% if page.author.name %}{{ page.author.name }}{% else %}{{ site.author }}{% endif %}" />
  <meta name="theme-color" content="{% if page.theme-color %}{{ page.theme-color }}{% else %}{{ site.theme-color }}{% endif %}" />
  <meta name="color-scheme" content="light dark" />

  {% if page.image %}
    {% assign prefix = page.image | slice: 0, 4 %}
    {% if prefix == "http" %}
      {% assign image = page.image %}
    {% else %}
      {% assign image = page.image | prepend: site.baseurl | prepend: site.url %}
    {% endif %}
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="twitter:image" content="{{ image }}" />
  {% else %}
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:image" content="" />
  {% endif %}
  <meta name="twitter:site" content="@{{ site.twitter }}" />
  <meta name="twitter:creator" content="@{{ site.twitter }}" />

  <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}" />
  <meta property="og:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}" />
  <meta itemprop="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}" />
  <meta name="twitter:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}" />

  <link rel="stylesheet" type="text/css" media="all" href="{{ '/css/main.css' | prepend: site.baseurl | append: '?v=' | append: site.time }}" />
  {% if jekyll.environment == "production" and site.url == "https://elementary.io" %}
    <script async defer data-domain="elementary.io" src="https://stats.elementary.io/js/index.js"></script>
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
  {% else %}
    <script>window.plausible = function() { console.log("Plausible not enabled in development"); }</script>
  {% endif %}
</head>
